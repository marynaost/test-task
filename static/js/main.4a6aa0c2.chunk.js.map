{"version":3,"sources":["services/api.js","components/Filter/Filter.js","components/Header/Header.js","components/ShowPostItem.js","components/ShowPost.js","components/UserCard/UserCardItem.js","components/UserCard/UserCard.js","hooks/usePagination.js","App.js","index.js"],"names":["BASE_URL","fetchData","url","fetch","response","ok","json","Promise","reject","Error","Filter","search","onChange","Input","type","name","placeholder","pattern","title","value","styled","input","Header","changesort","filter","changeFilter","props","HeaderEl","onClick","div","ShowPostItem","post","useState","showText","setShowText","Post","Title","Text","body","li","p","ShowPost","data","PostsList","map","nanoid","ul","UserCardItem","id","ID","email","phone","userPost","setUserPost","showPost","setShowPost","useEffect","userId","then","res","catch","err","console","log","Card","split","Button","e","button","UserCard","firstContentIndex","lastContentIndex","users","UsersWrap","ListUsers","target","nodeName","document","querySelector","classList","toggle","slice","usePagination","contentPerPage","count","page","setPage","pageCount","Math","ceil","changePage","direction","state","nextPage","prevPage","num","App","setUsers","setFilter","sort","setSort","length","error","usersFiltered","normalizedFilter","toLowerCase","user","includes","filteredUsers","Wrap","className","a","b","localeCompare","Prev","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.4a6aa0c2.chunk.js","sourcesContent":["const BASE_URL = 'https://jsonplaceholder.typicode.com/users'\r\n\r\nasync function fetchData(url = '') {\r\n  const response = await fetch(url)\r\n  return response.ok\r\n    ? await response.json()\r\n    : Promise.reject(new Error('Not Found'))\r\n}\r\n\r\nexport function fetchUserData() {\r\n  return fetchData(BASE_URL)\r\n}\r\n\r\nexport function fetchUserPost(userId) {\r\n  return fetchData(`${BASE_URL}/${userId}/posts`)\r\n}\r\n\r\nconst API = { fetchData }\r\n\r\nexport default API\r\n","import styled from 'styled-components'\r\n\r\nexport default function Filter({ search, onChange }) {\r\n  return (\r\n    <Input\r\n      type=\"text\"\r\n      name=\"filter\"\r\n      placeholder=\"Search\"\r\n      pattern=\"^[a-zA-Zа-яА-Я]+(([' -][a-zA-Zа-яА-Я ])?[a-zA-Zа-яА-Я]*)*$\"\r\n      title=\"Name may contain only letters, apostrophe, dash and spaces. For example Adrian, Jacob Mercer, Charles de Batz de Castelmore d'Artagnan\"\r\n      value={search}\r\n      onChange={onChange}\r\n    />\r\n  )\r\n}\r\n\r\nconst Input = styled.input`\r\n  width: 248px;\r\n  height: 70px;\r\n  background: #333348;\r\n  border-radius: 40px;\r\n  padding: 20px 35px;\r\n  font-family: inherit;\r\n  color: #eee;\r\n  border: none;\r\n  &::placeholder {\r\n    color: #eee;\r\n  }\r\n`\r\n","import styled from 'styled-components'\r\nimport Filter from 'components/Filter/Filter'\r\n\r\nexport default function Header({ changesort, filter, changeFilter, ...props }) {\r\n  return (\r\n    <HeaderEl {...props}>\r\n      <p onClick={changesort}>Sort </p>\r\n      <Filter search={filter} onChange={changeFilter} />\r\n    </HeaderEl>\r\n  )\r\n}\r\n\r\nconst HeaderEl = styled.div`\r\n  width: 100%;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: space-between;\r\n`\r\n","import { useState } from 'react'\r\nimport styled from 'styled-components'\r\n\r\nexport default function ShowPostItem({ post }) {\r\n  const [showText, setShowText] = useState(false)\r\n  return (\r\n    <>\r\n      <Post>\r\n        <Title key={post.title} onClick={() => setShowText(!showText)}>\r\n          {post.title}\r\n        </Title>\r\n        {showText ? <Text key={post.body}>{post.body}</Text> : null}\r\n      </Post>\r\n    </>\r\n  )\r\n}\r\n\r\nconst Post = styled.li`\r\n  position: relative;\r\n  cursor: pointer;\r\n  &:not(:last-child) {\r\n    margin-bottom: 60px;\r\n    &::after {\r\n      position: absolute;\r\n      content: '';\r\n      width: 100%;\r\n      height: 1px;\r\n      background: #4c4c6a;\r\n      margin-top: 30px;\r\n    }\r\n  }\r\n`\r\n\r\nconst Title = styled.p`\r\n  font-weight: 600;\r\n  color: #fff;\r\n  text-align: center;\r\n\r\n  @media screen and (min-width: 1000px) {\r\n    font-size: 18px;\r\n  }\r\n  @media screen and (min-width: 1500px) {\r\n    font-size: 36px;\r\n  }\r\n`\r\n\r\nconst Text = styled.p`\r\n  color: #fff;\r\n  margin-top: 20px;\r\n  @media screen and (min-width: 1000px) {\r\n    font-size: 14px;\r\n  }\r\n  @media screen and (min-width: 1500px) {\r\n    font-size: 18px;\r\n  }\r\n`\r\n","import { nanoid } from 'nanoid'\r\nimport styled from 'styled-components'\r\nimport ShowPostItem from './ShowPostItem'\r\n\r\nexport default function ShowPost({ data, ...props }) {\r\n  return (\r\n    <>\r\n      {data && (\r\n        <PostsList {...props}>\r\n          {data.map(post => (\r\n            <ShowPostItem key={nanoid()} post={post} />\r\n          ))}\r\n        </PostsList>\r\n      )}\r\n    </>\r\n  )\r\n}\r\n\r\nconst PostsList = styled.ul`\r\n  position: absolute;\r\n  background: #333348;\r\n  border-radius: 40px;\r\n  right: 0;\r\n  top: 0;\r\n  @media screen and (min-width: 1000px) {\r\n    width: 430px;\r\n    padding: 30px 20px;\r\n  }\r\n\r\n  @media screen and (min-width: 1500px) {\r\n    padding: 50px 50px;\r\n    width: 870px;\r\n  }\r\n`\r\n","import React, { useEffect, useState } from 'react'\r\nimport styled from 'styled-components'\r\n// import { nanoid } from 'nanoid'\r\nimport * as API from 'services/api'\r\nimport ShowPost from 'components/ShowPost'\r\n\r\nexport default function UserCardItem({ ID: id, name, email, phone, onClick }) {\r\n  const [userPost, setUserPost] = useState([])\r\n  const [showPost, setShowPost] = useState(false)\r\n\r\n  useEffect(() => {\r\n    API.fetchUserPost(id)\r\n      .then(res => setUserPost(res))\r\n      .catch(err => console.log(err))\r\n  }, [id])\r\n\r\n  const handleClick = e => {\r\n    setShowPost(!showPost)\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <Card onClick={onClick}>\r\n        <p>{name}</p>\r\n        <p>{email}</p>\r\n        <p>{phone.split(' ')[0]}</p>\r\n        <p>{phone.split(' ')[1]}</p>\r\n        <Button type=\"button\" onClick={handleClick}>\r\n          {showPost ? 'Hide posts' : 'Show all posts '}\r\n        </Button>\r\n      </Card>\r\n      {showPost && <ShowPost data={userPost} />}\r\n    </>\r\n  )\r\n}\r\n\r\nconst Card = styled.li`\r\n  width: 420px;\r\n  height: 370px;\r\n  display: flex;\r\n  flex-direction: column;\r\n  justify-content: center;\r\n  align-items: center;\r\n  background: #333348;\r\n  border-radius: 40px;\r\n  &:not(:nth-last-child(-n + 2)) {\r\n    margin-bottom: 30px;\r\n  }\r\n  @media screen and (min-width: 1000px) {\r\n    font-size: 14px;\r\n    width: 220px;\r\n    height: 240px;\r\n  }\r\n\r\n  @media screen and (min-width: 1500px) {\r\n    width: 270px;\r\n    height: 265px;\r\n    font-size: 18px;\r\n  }\r\n`\r\n\r\nconst Button = styled.button`\r\n  display: block;\r\n  background: #52519d;\r\n  border-radius: 40px;\r\n  padding: 16px 38px;\r\n  border: none;\r\n  color: inherit;\r\n  margin: 0 auto;\r\n  margin-top: 30px;\r\n\r\n  @media screen and (min-width: 1000px) {\r\n    padding: 16px 15px;\r\n  }\r\n`\r\n","import styled from 'styled-components'\r\nimport UserCardItem from './UserCardItem'\r\n\r\nexport default function UserCard({\r\n  firstContentIndex,\r\n  lastContentIndex,\r\n  users,\r\n}) {\r\n  const handleClick = e => {\r\n    if (e.target.nodeName !== 'BUTTON') {\r\n      return\r\n    }\r\n    document.querySelector('#list').classList.toggle('list')\r\n  }\r\n\r\n  return (\r\n    <>\r\n      {users && (\r\n        <UsersWrap id=\"wrap\">\r\n          <ListUsers onClick={handleClick} id=\"list\">\r\n            {users\r\n              .slice(firstContentIndex, lastContentIndex)\r\n              .map(({ id, name, email, phone }) => (\r\n                <UserCardItem\r\n                  key={id}\r\n                  ID={id}\r\n                  name={name}\r\n                  email={email}\r\n                  phone={phone}\r\n                />\r\n              ))}\r\n          </ListUsers>\r\n        </UsersWrap>\r\n      )}\r\n    </>\r\n  )\r\n}\r\n\r\nconst UsersWrap = styled.div`\r\n  position: relative;\r\n\r\n  .list {\r\n    margin-right: auto;\r\n    margin-left: 0;\r\n    padding-top: 30px;\r\n  }\r\n`\r\n\r\nconst ListUsers = styled.ul`\r\n  display: flex;\r\n  flex-wrap: wrap;\r\n  margin: 0 auto;\r\n  justify-content: space-between;\r\n  @media screen and (min-width: 1000px) {\r\n    width: 450px;\r\n  }\r\n  @media screen and (min-width: 1500px) {\r\n    width: 570px;\r\n  }\r\n`\r\n","import { useState } from 'react'\r\nconst usePagination = ({ contentPerPage, count }) => {\r\n  const [page, setPage] = useState(1)\r\n  // number of pages in total (total items / content on each page)\r\n  const pageCount = Math.ceil(count / contentPerPage)\r\n  // index of last item of current page\r\n  const lastContentIndex = page * contentPerPage\r\n  // index of first item of current page\r\n  const firstContentIndex = lastContentIndex - contentPerPage\r\n  // change page based on direction either front or back\r\n  const changePage = direction => {\r\n    setPage(state => {\r\n      // move forward\r\n      if (direction) {\r\n        // if page is the last page, do nothing\r\n        if (state === pageCount) {\r\n          return state\r\n        }\r\n        return state + 1\r\n        // go back\r\n      } else {\r\n        // if page is the first page, do nothing\r\n        if (state === 1) {\r\n          return state\r\n        }\r\n        return state - 1\r\n      }\r\n    })\r\n  }\r\n  const setPageSAFE = num => {\r\n    // if number is greater than number of pages, set to last page\r\n    if (num > pageCount) {\r\n      setPage(pageCount)\r\n      // if number is less than 1, set page to first page\r\n    } else if (num < 1) {\r\n      setPage(1)\r\n    } else {\r\n      setPage(num)\r\n    }\r\n  }\r\n  return {\r\n    nextPage: () => changePage(true),\r\n    prevPage: () => changePage(false),\r\n    setPage: setPageSAFE,\r\n    firstContentIndex,\r\n    lastContentIndex,\r\n    page,\r\n  }\r\n}\r\nexport default usePagination\r\n","import React, { useEffect, useState } from 'react'\nimport styled from 'styled-components'\nimport * as API from 'services/api'\nimport Header from 'components/Header/Header'\nimport UserCard from 'components/UserCard/UserCard'\nimport usePagination from 'hooks/usePagination'\nimport 'modern-normalize/modern-normalize.css'\nimport './App.css'\nimport './index.css'\n\nexport default function App() {\n  const [users, setUsers] = useState([])\n  const [showPost, setShowPost] = useState(false)\n  const [filter, setFilter] = useState('')\n  const [sort, setSort] = useState(false)\n  const { firstContentIndex, lastContentIndex, nextPage, prevPage, setPage } =\n    usePagination({\n      contentPerPage: 4,\n      count: users.length,\n    })\n\n  useEffect(() => {\n    API.fetchUserData()\n      .then(res => {\n        setUsers(res)\n      })\n      .catch(console.error())\n  }, [])\n\n  const changeFilter = e => {\n    setFilter(e.target.value)\n    setPage(1)\n  }\n\n  const filteredUsers = () => {\n    const normalizedFilter = filter.toLowerCase()\n    return users.filter(user =>\n      user.name.toLowerCase().includes(normalizedFilter),\n    )\n  }\n  // const sortedUsers = () => {\n  //   return [...users].sort((a, b) => a.name.localeCompare(b.name))\n  // }\n\n  const handleClick = () => {\n    setShowPost(!showPost)\n  }\n\n  const changeSort = () => {\n    setSort(!sort)\n\n    if (!sort) {\n      users.sort((a, b) => a.name.localeCompare(b.name))\n      return\n    }\n    users.sort((a, b) => b.name.localeCompare(a.name))\n  }\n  const usersFiltered = filteredUsers()\n\n  return (\n    <Wrap>\n      <Header\n        className=\"header\"\n        changeFilter={changeFilter}\n        filter={filter}\n        changesort={changeSort}\n      />\n      {usersFiltered.length > 0 ? (\n        <UserCard\n          users={usersFiltered}\n          onClick={handleClick}\n          showPost={showPost}\n          firstContentIndex={firstContentIndex}\n          lastContentIndex={lastContentIndex}\n        />\n      ) : (\n        <div>Sorry, users not found</div>\n      )}\n\n      <Prev>\n        <div onClick={prevPage}>Previous</div>\n\n        <div onClick={nextPage} className=\"page\">\n          Next\n        </div>\n      </Prev>\n    </Wrap>\n  )\n}\n\nconst Wrap = styled.div`\n  width: 1000px;\n  padding: 50px 0px;\n  margin-left: auto;\n  margin-right: auto;\n\n  @media screen and (min-width: 1000px) {\n    width: 1000px;\n  }\n\n  @media screen and (min-width: 1500px) {\n    width: 1470px;\n  }\n\n  .header {\n    margin-bottom: 35px;\n    margin-right: auto;\n    margin-left: auto;\n  }\n`\n\nconst Prev = styled.div`\n  position: fixed;\n  bottom: 70px;\n  display: flex;\n  justify-content: space-between;\n  width: 1000px;\n\n  @media screen and (min-width: 1500px) {\n    width: 1470px;\n  }\n`\n","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport App from './App'\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root'),\n)\n"],"sourceRoot":""}